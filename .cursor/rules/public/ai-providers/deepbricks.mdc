---
description: 
globs: lib/server/ai-providers/deepbricks/*
alwaysApply: false
---
## Instructions for AI Agent

When working with the DeepBricks AI provider directory (`lib/server/ai-providers/deepbricks/`), you MUST:

### 1. Check Official Documentation First
- Always reference the official DeepBricks API documentation
- Verify current API endpoints, parameters, and response formats
- Check for any recent API changes, deprecations, or new model releases
- Review DeepBricks's model capabilities and specifications

### 2. Validate API Endpoint Coverage
- Ensure all implemented endpoints match the official DeepBricks API specification
- Verify HTTP methods, request/response schemas, and parameter requirements
- Check that error handling follows DeepBricks's documented error responses
- Implement proper handling for DeepBricks-specific error codes and rate limiting

### 3. Review Implementation Patterns
- Confirm request/response type definitions align with DeepBricks's official schemas
- Validate authentication mechanisms (API key handling)
- Ensure rate limiting and retry logic follows DeepBricks's guidelines
- Implement proper timeout handling and connection management
- Handle DeepBricks's specific request/response formats correctly

### 4. Security Best Practices
- Never log or expose API keys in plaintext
- Use environment variables or secure storage for API key management
- Implement proper input validation and sanitization
- Follow DeepBricks's usage policies and content guidelines
- Validate all user inputs before sending to the API
- Implement proper error handling to avoid exposing sensitive information

### 5. Check for Missing Features
- Compare implemented functionality against the full DeepBricks API surface
- Verify streaming implementation if supported by DeepBricks
- Check support for latest models in their catalog

### 6. Validate Configuration
- Ensure model names match DeepBricks's current model catalog
- Check default values align with DeepBricks's documented defaults
- Validate token limits and context windows for each model
- Implement proper model availability and capability checks
- Handle DeepBricks-specific parameters correctly

## Provider-Specific Considerations
- **Model Selection**: Understand different model capabilities and use cases
- **Performance**: Optimize for DeepBricks's platform characteristics
- **Cost Efficiency**: Consider usage patterns and cost optimization

## Before Making Changes to DeepBricks Provider
- Consult official documentation for the latest specification
- Cross-reference with existing implementation in `lib/server/ai-providers/deepbricks/`
- Test with DeepBricks's platform or official examples
- Ensure changes maintain backward compatibility where possible
- Update type definitions to match any API schema changes

## Files to Review
- All files under `lib/server/ai-providers/deepbricks/`
- Related type definitions in `lib/shared/types/`
- DeepBricks-specific configurations, constants, and model definitions
- Authentication and error handling utilities

**Note:** This rule ensures the DeepBricks provider implementation stays current with the official API specification and follows security best practices.
