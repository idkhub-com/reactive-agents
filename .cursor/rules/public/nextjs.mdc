---
description: 
globs: **/*.js,**/*.jsx,**/*.ts,**/*.tsx
alwaysApply: false
---
---
description: This rule explains Next.js conventions and best practices for fullstack development.
globs: **/*.js,**/*.jsx,**/*.ts,**/*.tsx
alwaysApply: false
---

# Next.js rules

1. Use the App Router structure with `page.tsx` files in route directories.

2. Client components must be explicitly marked with `'use client'` at the top of the file.

3. Use kebab-case for directory names (e.g., `components/auth-form`) and kebab-case for component files.

4. Prefer named exports over default exports, i.e. `export function Button() { /* ... */ }` instead of `export default function Button() { /* ... */ }`.

5. Minimize `'use client'` directives:
  - Keep most components as React Server Components (RSC)
  - Only use client components when you need interactivity and wrap in `Suspense` with fallback UI
  - Create small client component wrappers around interactive elements

6. Avoid unnecessary `useState` and `useEffect` when possible:
  - Use server components for data fetching
  - Use React Server Actions for form handling
  - Use URL search params for shareable state

7. Use `nuqs` for URL search param state management

8. Ensure async functions utilize await.
  - This rule reports async functions that lack an await expression. As async functions return a promise, the use of await is often necessary to capture the resolved value and handle the asynchronous operation appropriately. Without await, the function operates synchronously and might not leverage the advantages of async functions.

9. Require explicit return types on functions and class methods.
  - Functions in TypeScript often donâ€™t need to be given an explicit return type annotation. Leaving off the return type is less code to read or write and allows the compiler to infer it from the contents of the function.

10. The default package manager is pnpm.

