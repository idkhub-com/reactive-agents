# Copart Auction AI Agent - Environment Configuration

# =============================================================================
# CORE API CONFIGURATION
# =============================================================================

# OpenAI API Key (required for AI analysis)
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# IDKHub Configuration (if using custom instance)
IDKHUB_URL=http://localhost:3000/v1
IDKHUB_AUTH_TOKEN=idk

# =============================================================================
# AI ANALYSIS SETTINGS
# =============================================================================

# AI Model Configuration
IDK_MODEL=gpt-4                    # Model to use (gpt-4, gpt-3.5-turbo, etc.)
IDK_MAX_TOKENS=1000                # Max tokens per analysis
IDK_TEMPERATURE=0.3                # Creativity level (0.0-1.0)
IDK_LLM_TOP_N=10                   # Only analyze top N vehicles with LLM (cost control)
IDK_LLM_MAX_RETRIES=3              # Retry failed LLM calls

# =============================================================================
# DATA ENRICHMENT (TOOL USE)
# =============================================================================

# Enable/disable tool integrations
IDK_ENRICH_VIN=true                # VIN decoding via NHTSA API
IDK_ENRICH_COMPS=true              # Market comparison analysis
IDK_ENRICH_RISK=true               # Risk assessment scoring
IDK_TOOL_TIMEOUT_MS=15000          # Timeout for external tool calls

# =============================================================================
# WEB SCRAPING CONFIGURATION
# =============================================================================

# Real scraping (experimental - requires COPART_TOS_ACK=true)
COPART_REAL_SCRAPER=false          # Enable Playwright-based scraping
COPART_TOS_ACK=false               # Acknowledge Copart Terms of Service

# Scraping behavior
IDK_SCRAPER_MAX_PAGES=3            # Maximum pages to scrape
IDK_SCRAPER_DELAY_MS=2000          # Delay between requests (ms)
IDK_SCRAPER_PER_PAGE_LIMIT=50      # Max vehicles per page
COPART_BASE_URL=https://www.copart.com/vehicleFinder

# =============================================================================
# PERSISTENCE & HISTORY
# =============================================================================

# Database configuration
IDK_ENABLE_PERSISTENCE=false       # Enable SQLite database storage
IDK_DB_PATH=./auction-agent.db     # Database file location

# =============================================================================
# USER EXPERIENCE
# =============================================================================

# Interactive mode
IDK_INTERACTIVE=true               # Enable interactive prompts (auto-detected from TTY)
IDK_CRITERIA_STORE=.last-criteria.json  # File to save last-used search criteria

# Logging
LOG_LEVEL=info                     # Logging level: debug, info, warn, error

# =============================================================================
# CHAT AGENT CONFIGURATION (NEW!)
# =============================================================================

# Chat interface settings
CHAT_ENABLE_REAL_TIME_SEARCH=true  # Enable real-time search during chat
CHAT_MAX_CONVERSATION_HISTORY=50   # Maximum messages to keep in memory
CHAT_AUTO_SEARCH_ON_CRITERIA_CHANGE=true  # Auto-search when criteria change
CHAT_ENABLE_VEHICLE_COMPARISON=true  # Enable vehicle comparison features

# Chat agent behavior
CHAT_DEFAULT_SEARCH_CRITERIA=      # Default search criteria (JSON format)
# Example: {"makes":["Honda","Toyota"],"maxPrice":25000,"yearRange":{"min":2015,"max":2023}}

# Chat response settings
CHAT_RESPONSE_MAX_TOKENS=500       # Max tokens for chat responses
CHAT_TEMPERATURE=0.7               # Creativity level for chat responses (0.0-1.0)
CHAT_ENABLE_FALLBACK_PARSING=true  # Enable simple parsing when AI unavailable

# =============================================================================
# NOTIFICATIONS & SCHEDULING (PHASE 5)
# =============================================================================

# Email notifications (SMTP)
SMTP_HOST=smtp.gmail.com               # SMTP server host
SMTP_PORT=587                          # SMTP server port
SMTP_SECURE=false                      # Use TLS (587) vs SSL (465)
SMTP_USER=your-email@gmail.com         # SMTP username
SMTP_PASS=your-app-password            # SMTP password or app password
SMTP_FROM="Auction Agent <your-email@gmail.com>"  # From address

# SMS notifications (Twilio)
TWILIO_ACCOUNT_SID=your_twilio_sid     # Twilio Account SID
TWILIO_AUTH_TOKEN=your_twilio_token    # Twilio Auth Token
TWILIO_FROM_PHONE=+1234567890          # Twilio phone number (from)

# =============================================================================
# ADVANCED ACTUATION SYSTEM (PHASE 6)
# =============================================================================

# Actuation features
IDK_ENABLE_ACTUATION=true             # Enable advanced actuation system
IDK_ENABLE_WATCHLIST=true             # Enable vehicle watchlist tracking
IDK_ENABLE_BIDDING_ADVISOR=true       # Enable AI bidding recommendations
IDK_ENABLE_PORTFOLIO=true             # Enable portfolio management
IDK_ENABLE_ADVANCED_NOTIFICATIONS=true  # Enable insight-based notifications

# Actuation configuration
IDK_RISK_TOLERANCE=moderate           # Risk tolerance: conservative, moderate, aggressive
IDK_MAX_CONCURRENT_ACTIONS=10         # Maximum concurrent actuation insights
ACTUATION_NOTIFICATION_RECIPIENTS=admin@example.com,+1234567890  # Comma-separated list

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Development flags
NODE_ENV=development
DEBUG=false

# Quick testing scenarios:
# Basic test:        IDK_INTERACTIVE=false
# With AI:          IDK_INTERACTIVE=false + OPENAI_API_KEY
# With persistence: IDK_INTERACTIVE=false IDK_ENABLE_PERSISTENCE=true
# Full featured:    IDK_INTERACTIVE=false IDK_ENABLE_PERSISTENCE=true IDK_ENRICH_VIN=true
# With scheduling:  pnpm auction-agent:scheduler
# Chat mode:        pnpm auction-agent:chat
# Chat with AI:     OPENAI_API_KEY=sk-... pnpm auction-agent:chat
